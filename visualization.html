<!DOCTYPE html>
<html>

<head>
	<title>GenO</title>

	<!-- meta -->
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- jQuery UI CSS -->
	<link rel="stylesheet" href="css/jquery-ui.min.css">
	<link rel="stylesheet" href="css/jquery-ui.structure.min.css">
	<link rel="stylesheet" href="css/jquery-ui.theme.min.css">
	<link rel="stylesheet" href="lib/leaflet/leaflet.css" />

	<!-- css -->
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/ionicons.min.css">
	<link rel="stylesheet" href="css/pace.css">
	<link rel="stylesheet" href="css/custom.css">

	<!-- js -->
	<script src="js/jquery-2.1.3.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/pace.min.js"></script>
	<script src="js/modernizr.custom.js"></script>

	<link href="img/GenOicon.png" rel="icon">
	<style>
		body {
			background-image: url('img/dot-grid.png');
		}
	</style>

</head>

<body>
	<div class="container">
		<header id="site-header">
			<div class="row">
				<div class="col-md-4 col-sm-5 col-xs-8">
					<div class="logo">
						<h1><a href="index.html"><b>Gen</b>O</a></h1>
					</div>
				</div>
				<div class="col-md-8 col-sm-7 col-xs-4">
					<nav class="main-nav" role="navigation">
						<div class="navbar-header">
							<button type="button" id="trigger-overlay" class="navbar-toggle">
								<span class="ion-navicon"></span>
							</button>
						</div>

						<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
							<ul class="nav navbar-nav navbar-right">
								<li class="cl-effect-11"><a href="project.html" data-hover="Project">Project</a></li>
								<li class="cl-effect-11"><a href="catalogue.html" data-hover="Catalogue">Catalogue</a>
								</li>
								<li class="cl-effect-11"><a href="metadata.html" data-hover="Metadata">Metadata</a></li>
								<li class="cl-effect-11"><a href="visualization.html"
										data-hover="Visualization">Visualization</a></li>
								<li class="cl-effect-11"><a href="about.html" data-hover="About">About</a></li>
							</ul>
						</div>
					</nav>
				</div>
			</div>
		</header>
	</div>

	<div class="content-body">
		<div class="container">
			<div class="row">
				<main class="col-md-12">
					<article class="post post-1">
						<header class="entry-header">
							<h1 class="entry-title">Visualization</h1>
						</header>
						<div class="entry-content clearfix" align="justify">
							<p>In this section you can explore seven interactive visualizations, produced using different visualization techniques like a choropleth map, a bubble map, a horizontal and vertical histogram, and a multi-line chart.
								 All graphics were created in Javascript using the open-source <a href="https://d3js.org/" alt="d3.js homepage">d3.js</a> library. In addition, the open-source <a href="https://leafletjs.com/" alt="Leaflet.js homepage">Leaflet.js</a> library was used for the maps.</p>
							<br>
						</div>
						<div>
							<!-- Tab links -->
							<div class="tab">
								<button class="tablinks" onclick="openTab(event, 'labour')"
									id="defaultOpen">Labour</button>
								<button class="tablinks" onclick="openTab(event, 'health')">Health</button>
								<button class="tablinks" onclick="openTab(event, 'paygap')">Gender pay gap</button>
								<button class="tablinks" onclick="openTab(event, 'childcare')">Childcare</button>
								<button class="tablinks" onclick="openTab(event, 'digital')">Digital economy</button>
								<button class="tablinks" onclick="openTab(event, 'education')">Education</button>
							</div>

							<!-- Tab content -->
							<div id="labour" class="tabcontent">
								<h1 class="vizTitle">Female labour force vs. Marital status</h1>
								<p>This chart shows data from two different organizations: <a href="https://www.ilo.org/shinyapps/bulkexplorer19/?lang=en&segment=indicator&id=EAP_TEAP_SEX_AGE_MTS_NB_A" target="_blank">ILOSTAT</a> and <a href="https://databank.worldbank.org/reports.aspx?source=2&series=SL.TLF.TOTL.FE.ZS&country=#" target="_blank">The World Bank</a>. The dataset focuses on gender equality in the labor market, in particular on female employment, compared with the marital status of employed women in different countries, from 1990 to 2020.</p>
								<div class="vizYear">
									<h2 class="year"></h2>
									<div class="slider vizSlider"></div>
								</div>
								<div id="selectors" class="vizSelector"></div>
								<div class="viz" id="labourMap" style="width: 100%; height: 60rem">
									<div class="legendContainer">
										<svg id="labourMapLegend"></svg>
									</div>
								</div>
								<svg id="labour_choropleth" width="0" height="0" style="display: none;"></svg>
								<div class="btn-group downloadDropdown">
									<button class="btn btn-default dropdown-toggle" type="button"
										id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
										aria-expanded="false">
										Download options <span class="caret"></span>
									</button>
									<ul id="labour-dropdown-menu" class="dropdown-menu"
										aria-labelledby="dropdownMenuButton"></ul>
									<form method="get" action="" id="labour-metadata">
										<button class="btn btn-default dowloadMetadata" type="submit">Download metadata</button>									
									</form>
								</div>
							</div>

							<div id="health" class="tabcontent">
								<h1 class="vizTitle">Causes of mortality vs. Life expectancy (2018)</h1>
								<h2 class="vizTitle2">Causes of mortality</h2>
								<p>This visualization shows data from <a href="https://stats.oecd.org/Index.aspx?QueryId=30115" target="_blank">OECD.Stat</a>. The dataset is focused on causes of mortality, in particular on the differences between males and females, from 2000 to 2018.</p>
								<div class="vizYear">
									<h2 class="yearHealth"></h2>
									<div class="sliderHealth vizSlider"></div>
								</div>
								<div id="selectorsDeath" class="vizSelector"></div>
								<div id="selectorsSex" class="vizSelector"></div>
								<div class="viz" id="deathMap" style="width: 100%; height: 60rem">
									<div class="legendContainer">
										<svg id="deathMapLegend"></svg>
									</div>
								</div>
								<svg id="healthDeathCauses" width="0" height="0" style="display: none;"></svg>
								<div class="btn-group downloadDropdown">
									<button class="btn btn-default dropdown-toggle" type="button"
										id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
										aria-expanded="false">
										Download options <span class="caret"></span>
									</button>
									<ul id="death-dropdown-menu" class="dropdown-menu"
										aria-labelledby="dropdownMenuButton"></ul>
									<form method="get" action="" id="death-metadata">
										<button class="btn btn-default dowloadMetadata" type="submit">Download metadata</button>									
									</form>
								</div>
								<h2 class="vizTitle2">Life expectancy (2018)</h2>
								<p>This histogram shows data from <a href="https://ec.europa.eu/eurostat/databrowser/view/demo_mlexpec$DV_291/default/table?lang=en" target="_blank">Eurostat</a>. The dataset focuses on life expectancy, trying to highlight the differences between males and females in 2018.</p>
								<div class="vizSelector" id="leOrderSelector"></div>
								<div class="viz" id="healthLifeExpectancy"></div>
								<div class="btn-group downloadDropdown">
									<button class="btn btn-default dropdown-toggle" type="button"
										id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
										aria-expanded="false">
										Download options <span class="caret"></span>
									</button>
									<ul id="le-dropdown-menu" class="dropdown-menu"
										aria-labelledby="dropdownMenuButton"></ul>
									<form method="get" action="" id="le-metadata">
										<button class="btn btn-default dowloadMetadata" type="submit">Download metadata</button>									
									</form>
								</div>
							</div>

							<div id="paygap" class="tabcontent">
								<h1 class="vizTitle">Gender paygap</h1>
								<p>This multi-line chart contains data from <a href="https://appsso.eurostat.ec.europa.eu/nui/show.do?dataset=earn_gr_hgpg&lang=en" target="_blank">Eurostat</a>. The dataset focuses on the gender pay gap, the pay gap between men and women, from 1994 to 2005.</p>
								<div id="sliderPay-div" class="vizYear">
									<label>
										<h2>Years: <span id="dateLabel1Pay">1994</span> - <span
												id="dateLabel2Pay">2006</span></h2>
									</label>
									<div id="sliderPay" class="vizSliderJ"></div>
								</div>
								<!-- Trigger/Open The Modal -->
								<button type="button" class="btn btn-primary vizModal" id="btnModalPayCountries"
									data-toggle="modal" data-target="#modalPayCountries">Choose countries</button>

								<!-- The Modal -->
								<div id="modalPayCountries" class="modal fade" tabindex="-1" role="dialog"
									aria-labelledby="modalLabelSmall" aria-hidden="true">
									<!-- Modal content -->
									<div class="modal-content">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal" aria-label="Close">
												<span aria-hidden="true">&times;</span>
											</button>
											<h4 class="modal-title" id="modalLabelSmall">Choose countries</h4>
										</div>
										<div class="modal-body" id="modalPayCountriesContent"></div>
									</div>
								</div>
								<svg class="viz" id="payChart"></svg>
								<div class="btn-group downloadDropdown">
									<button class="btn btn-default dropdown-toggle" type="button"
										id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
										aria-expanded="false">
										Download options <span class="caret"></span>
									</button>
									<ul id="paygap-dropdown-menu" class="dropdown-menu"
										aria-labelledby="dropdownMenuButton"></ul>
									<form method="get" action="" id="paygap-metadata">
										<button class="btn btn-default dowloadMetadata" type="submit">Download metadata</button>									
									</form>
								</div>
							</div>

							<div id="childcare" class="tabcontent">
								<h1 class="vizTitle">Enrolment rate of children in child care</h1>
								<p>This choropleth map shows data from the <a href="https://w3.unece.org/PXWeb/en/Table?IndicatorCode=304" target="_blank">UNECE organization</a>. The dataset focuses on the enrollment rate of children in childcare centers. The data are divided by country and cover almost all the European states. The temporal coverage ranges from 2005 to 2017.</p>
								<div class="vizYear">
									<h2 class="yearChildcare"></h2>
									<div class="sliderChildcare vizSlider"></div>
								</div>
								<div class="viz" id="childcareMap" style="width: 100%; height: 60rem">
									<div class="legendContainer">
										<svg id="childcareMapLegend"></svg>
									</div>
								</div>
								<svg id="childcare" width="0" height="0" style="display: none;"></svg>
								<div class="btn-group downloadDropdown">
									<button class="btn btn-default dropdown-toggle" type="button"
										id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
										aria-expanded="false">
										Download options <span class="caret"></span>
									</button>
									<ul id="childcare-dropdown-menu" class="dropdown-menu"
										aria-labelledby="dropdownMenuButton"></ul>
									<form method="get" action="" id="childcare-metadata">
										<button class="btn btn-default dowloadMetadata" type="submit">Download metadata</button>									
									</form>
								</div>
							</div>

							<div id="digital" class="tabcontent">
								<h1 class="vizTitle">Individuals with above basic level of digital skills, by Gender
								</h1>
								<p>This histogram shows data coming from <a href="https://ec.europa.eu/eurostat/databrowser/view/isoc_sk_dskl_i/default/bar?lang=en" target="_blank">Eurostat</a>. The dataset focuses on the digital proficiency level of women and men aged 16 to 74. The data are divided by country and cover almost all European states. The temporal coverage of the dataset focus on the year 2019.</p>
								<h2 class="vizYear">Year: 2019</h2>
								<div id="digitalOrderSelector" class="vizSelector"></div>
								<div class="viz" id="digital_hysthogram"></div>
								<div class="btn-group downloadDropdown">
									<button class="btn btn-default dropdown-toggle" type="button"
										id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
										aria-expanded="false">
										Download options <span class="caret"></span>
									</button>
									<ul id="digital-dropdown-menu" class="dropdown-menu"
										aria-labelledby="dropdownMenuButton"></ul>
									<form method="get" action="" id="digital-metadata">
										<button class="btn btn-default dowloadMetadata" type="submit">Download metadata</button>									
									</form>
								</div>
							</div>

							<div id="education" class="tabcontent">
								<h1 class="vizTitle">Education</h1>
								<p>This multi-line chart shows data resulting from the aggregation of three different datasets, coming from <a href="https://ourworldindata.org/educational-mobility-inequality#in-primary-education" target="_blank">Our World in Data - Educational Mobility and Inequality</a>, <a href="https://data.unicef.org/resources/data_explorer/unicef_f/?ag=UNICEF&df=GENDER&ver=1.0&dq=.GN_ED_ATTN.F+_T..&startPeriod=2011&endPeriod=2019" target="_blank">UNICEF Data Warehouse</a> and <a href="https://ourworldindata.org/grapher/gender-ratios-for-mean-years-of-schooling" target="_blank">Our World in Data - Gender ratios for mean years of schooling</a>.</p>
								<p>The three datasets focus, respectively, on:
									<ul>
										<li><strong>Primary school</strong>: the share of enrolled female primary education students between 1970 and 2016.</li>
										<li><strong>Secondary school</strong>: the educational attainment of the female population aged on  25 years and older related to the upper secondary education between 2011 and 2017.</li>
										<li><strong>Ratio</strong>: the gender ratios for mean years of schooling between 1970 to 2010.</li>
									</ul>
								</p>
								<div id="slider-div" class="vizYear">
									<label>
										<h2>Years: <span id="dateLabel1">1970</span> - <span id="dateLabel2">2016</span>
										</h2>
									</label>
									<div id="sliderEdu" class="vizSliderJ"></div>
								</div>
								<select name="" id="eduMeasure" class="vizSelector form-control">
									<option selected value="primary">Primary school</option>
									<option value="secondary">Secondary school</option>
									<option value="ratio">Ratio</option>
								</select>
								<!-- Trigger/Open The Modal -->
								<button type="button" class="vizModal btn btn-primary" id="btnModalEduCountries"
									data-toggle="modal" data-target="#modalEduCountries">Choose countries</button>

								<!-- The Modal -->
								<div id="modalEduCountries" class="modal fade" tabindex="-1" role="dialog"
									aria-labelledby="modalLabelSmall" aria-hidden="true">
									<!-- Modal content -->
									<div class="modal-content">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal" aria-label="Close">
												<span aria-hidden="true">&times;</span>
											</button>
											<h4 class="modal-title" id="modalLabelSmall">Choose countries</h4>
										</div>
										<div class="modal-body" id="modalEduCountriesContent"></div>
									</div>
								</div>
								<svg class="viz" id="eduChart"></svg>
								<div class="btn-group downloadDropdown">
									<button class="btn btn-default dropdown-toggle" type="button"
										id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
										aria-expanded="false">
										Download options <span class="caret"></span>
									</button>
									<ul id="education-dropdown-menu" class="dropdown-menu"
										aria-labelledby="dropdownMenuButton"></ul>
									<form method="get" action="" id="education-metadata">
										<button class="btn btn-default dowloadMetadata" type="submit">Download metadata</button>									
									</form>
								</div>
							</div>

						</div>
					</article>
				</main>
			</div>
		</div>
	</div>
	<footer id="site-footer">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<div class="copyright">
						<p>Authored by Arcangelo Massari, Elena Cavalli, Virginia Ciambriello</p>
						<p>This work is licensed under a <a target ="_blank" rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>
						<br>
						<a rel="license" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"/></a>
					</div>
				</div>
			</div>
		</div>
	</footer>

	<a href="#" class="back-to-top" id="backtotop"><span class="ion-arrow-up-c"></span></a>

	<!-- Mobile Menu -->
	<div class="overlay overlay-hugeinc">
		<button type="button" class="overlay-close"><span class="ion-ios-close-empty"></span></button>
		<nav>
			<ul>
				<li><a href="project.html">Project</a></li>
				<li><a href="catalogue.html">Catalogue</a></li>
				<li><a href="metadata.html">Metadata</a></li>
				<li><a href="visualization.html">Visualization</a></li>
				<li><a href="about.html">About</a></li>
			</ul>
		</nav>
	</div>

	<script src="js/script.js"></script>

	<!-- Scripts from arcangelo -->
	<script src="lib/leaflet/leaflet.js"></script>
	<script src="lib/d3/d3.js"></script>
	<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
	<script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>
	<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.5.1.js"></script>
	<script src="lib/jquery-ui.min.js"></script>
	<script src="https://d3js.org/topojson.v1.min.js"></script>
	<script src="js/labour.js"></script>
	<script src="js/health.js"></script>
	<script src="js/paygap.js"></script>
	<script src="js/childcare.js"></script>
	<script src="js/digital.js"></script>
	<script src="js/education.js"></script>
	<script>
		function openTab(evt, viz) {
			var i, tabcontent, tablinks;

			// Get all elements with class="tabcontent" and hide them
			tabcontent = document.getElementsByClassName("tabcontent");
			for (i = 0; i < tabcontent.length; i++) {
				tabcontent[i].style.display = "none";
			}

			// Get all elements with class="tablinks" and remove the class "active"
			tablinks = document.getElementsByClassName("tablinks");
			for (i = 0; i < tablinks.length; i++) {
				tablinks[i].className = tablinks[i].className.replace(" active", "");
			}

			// Show the current tab, and add an "active" class to the button that opened the tab
			document.getElementById(viz).style.display = "block";
			evt.currentTarget.className += " active";
		}
		document.getElementById("defaultOpen").click();

		// Download buttons
		$(document).ready(function () {
			var formats = ["csv", "json", "xml"]
			$(".tabcontent").each(function () {
				var id = $(this).attr("id")
				for (i = 0; i < formats.length; i++) {
					if ($(this).attr("id") != "health") {
						$("#" + id + "-dropdown-menu").append(`
							<li><a class="dropdown-item" href="data/${formats[i]}/${id}.${formats[i]}" download="${id}.${formats[i]}">Download ${formats[i]}</a></li>
						`)
						$("#" + id + "-metadata").attr("action", `https://gen-0.github.io/metadata/${id}.ttl`)
					} else if ($(this).attr("id") == "health") {
						$("#death-dropdown-menu").append(`<li><a href="data/${formats[i]}/health_death_causes.${formats[i]}" download="health_death_causes.${formats[i]}">Download ${formats[i]}</a></li>`)
						$("#le-dropdown-menu").append(`<li><a href="data/${formats[i]}/health_life_expectancy.${formats[i]}" download="health_life_expectancy.${formats[i]}">Download ${formats[i]}</a></li>`)
						$("#death-metadata").attr("action", `https://gen-0.github.io/metadata/health_death_causes.ttl`)
						$("#le-metadata").attr("action", `https://gen-0.github.io/metadata/health_life_expectancy.ttl`)
					}
				}
			});
		});
	</script>

</body>

</html>
